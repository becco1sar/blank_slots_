# nfpm.yaml
name: blankwatch
arch: all
platform: linux
version: 1.0.0-1
section: utils
priority: optional
maintainer: Soufiane Ar-Razouki <soufiane.arrazouki@bauermediaoutdoor.com>
vendor: Bauer Media Outdoor Tech Europe
homepage: https://example.com/blankwatch
license: MIT
description: >
  X11 screen watcher that samples every second and logs blank-slot durations.

# Runtime deps (adjust names if your distro differs)
depends:
  - python3
  - python3-numpy
  - python3-xlib
  - x11-utils      # for xrandr
  - procps         # for pid/kill/systemctl conveniences

recommends:
  - logrotate
  - systemd

# Files from your working tree -> target locations
# Keep your repo paths as you prefer; map them here.
contents:
  # main script
  - src: ./opt/scripts/blank_slots/blank_slot.py
    dst: /opt/scripts/blankwatch.py
    type: file

  # systemd unit
  - src: ./etc/systemd/blank_slot.service
    dst: /etc/systemd/system/blankwatch.service
    type: file

overrides:
  deb:
    depends:
      - python3
      - python3-numpy
      - python3-xlib
      - x11-utils
      - procps
    scripts:
      preinstall: ./DEBIAN/preinst
      postinstall: ./DEBIAN/postinst
      preremove: ./DEBIAN/prerm
      postremove: ./DEBIAN/postrm